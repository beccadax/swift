cmake_minimum_required(VERSION 3.4.3)
include("../../../cmake/modules/StandaloneOverlay.cmake")

set(BUILD_STANDALONE TRUE)
set(SWIFT_BUILD_STANDALONE_OVERLAY TRUE)

add_swift_target_library(swiftswiftDemangle SHARED IS_SDK_OVERLAY
  Demangler.swift
  Node.swift

  SWIFT_COMPILE_FLAGS ${SWIFT_RUNTIME_SWIFT_COMPILE_FLAGS} ${SWIFT_STANDARD_LIBRARY_SWIFT_FLAGS}
  LINK_FLAGS "${SWIFT_RUNTIME_SWIFT_LINK_FLAGS}"
  TARGET_SDKS "${SWIFT_HOST_VARIANT_SDK}"
  DONT_EMBED_BITCODE

  DEPLOYMENT_VERSION_OSX 10.15  # FIXME
  DARWIN_INSTALL_NAME_DIR "@rpath"
  INSTALL_IN_COMPONENT compiler
)
